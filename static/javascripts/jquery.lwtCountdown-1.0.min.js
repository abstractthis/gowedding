/*!
 * jQuery Countdown plugin v0.9.5
 * http://www.littlewebthings.com/projects/countdown/
 *
 * Copyright 2010, Vassilis Dourdounis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
(function(b){b.fn.countDown=function(c){config={};b.extend(config,c);diffSecs=this.setCountDown(config);b("#"+b(this).attr("id")+" .digit").html('<div class="top"></div><div class="bottom"></div>');b(this).doCountDown(b(this).attr("id"),diffSecs,500);config.onComplete&&b.data(b(this)[0],"callback",config.onComplete);config.omitWeeks&&b.data(b(this)[0],"omitWeeks",config.omitWeeks);return this};b.fn.stopCountDown=function(){clearTimeout(b.data(this[0],"timer"))};b.fn.startCountDown=function(){this.doCountDown(b(this).attr("id"),
b.data(this[0],"diffSecs"),500)};b.fn.setCountDown=function(c){var a=new Date;c.targetDate?(a.setDate(c.targetDate.day),a.setMonth(c.targetDate.month-1),a.setFullYear(c.targetDate.year),a.setHours(c.targetDate.hour),a.setMinutes(c.targetDate.min),a.setSeconds(c.targetDate.sec)):c.targetOffset&&(a.setDate(c.targetOffset.day+a.getDate()),a.setMonth(c.targetOffset.month+a.getMonth()),a.setFullYear(c.targetOffset.year+a.getFullYear()),a.setHours(c.targetOffset.hour+a.getHours()),a.setMinutes(c.targetOffset.min+
a.getMinutes()),a.setSeconds(c.targetOffset.sec+a.getSeconds()));diffSecs=Math.floor((a.valueOf()-(new Date).valueOf())/1E3);b.data(this[0],"diffSecs",diffSecs);return diffSecs};b.fn.doCountDown=function(c,a,d){$this=b("#"+c);0>=a&&(a=0,b.data($this[0],"timer")&&clearTimeout(b.data($this[0],"timer")));var f=0,g=0,h=a%60,k=Math.floor(a/60)%60,l=Math.floor(a/60/60)%24,f=1==b.data($this[0],"omitWeeks")?Math.floor(a/60/60/24):Math.floor(a/60/60/24)%7,g=Math.floor(a/60/60/24/7);$this.dashChangeTo(c,"seconds_dash",
h,d?d:800);$this.dashChangeTo(c,"minutes_dash",k,d?d:1200);$this.dashChangeTo(c,"hours_dash",l,d?d:1200);$this.dashChangeTo(c,"days_dash",f,d?d:1200);$this.dashChangeTo(c,"weeks_dash",g,d?d:1200);b.data($this[0],"diffSecs",a);0<a?(e=$this,t=setTimeout(function(){e.doCountDown(c,a-1)},1E3),b.data(e[0],"timer",t)):(cb=b.data($this[0],"callback"))&&b.data($this[0],"callback")()};b.fn.dashChangeTo=function(c,a,d,f){$this=b("#"+c);d2=d%10;d1=(d-d%10)/10;b("#"+$this.attr("id")+" ."+a)&&($this.digitChangeTo("#"+
$this.attr("id")+" ."+a+" .digit:first",d1,f),$this.digitChangeTo("#"+$this.attr("id")+" ."+a+" .digit:last",d2,f))};b.fn.digitChangeTo=function(c,a,d){d||(d=800);b(c+" div.top").html()!=a+""&&(b(c+" div.top").css({display:"none"}),b(c+" div.top").html(a?a:"0").slideDown(d),b(c+" div.bottom").animate({height:""},d,function(){b(c+" div.bottom").html(b(c+" div.top").html());b(c+" div.bottom").css({display:"block",height:""});b(c+" div.top").hide().slideUp(10)}))}})(jQuery);