(function($){$(document).ready(function(){jQuery("#countdown_dashboard").countDown({targetDate:{"day":23,"month":5,"year":2015,"hour":0,"min":0,"sec":0}});$(".party-container").on("click","a",function(e){$("#party-popup").modal();var modalHeight=$(window).height()*.6;$(".modal-body").css("height",modalHeight);e.preventDefault();e.stopPropagation()});var intRegex=/^\d+$/;var validateRSVPLookup=function(){var valid=true;var id=$("#rsvpId").val();if(!!id&&intRegex.test(id))$("#rsvpId-error").hide();
else{$("#rsvpId-error").show();valid=false}var firstName=$("#first1").val();if(!!firstName)$("#first1-error").hide();else{$("#first1-error").show();valid=false}var lastName=$("#last1").val();if(!!lastName)$("#last1-error").hide();else{$("#last1-error").show();valid=false}return valid};var validateSecondPrimary=function(){var valid=true;if($("#attending2").val()!=="-1")$("#attending2-error").hide();else{$("#attending2-error").show();valid=false}if($("#food2").is(":visible"))if($("#food2").val()!==
"-1")$("#food2-error").hide();else{$("#food2-error").show();valid=false}return valid};var validateGuest=function(){var valid=true;if(!$("#guestForm").is(":visible"))return valid;var firstName=$("#guestFirst").val();if(!!firstName)$("#gFirst-error").hide();else{$("#gFirst-error").show();valid=false}var lastName=$("#guestLast").val();if(!!lastName)$("#gLast-error").hide();else{$("#gLast-error").show();valid=false}if($("#guestFood").val()!=="-1")$("#gFood-error").hide();else{$("#gFood-error").show();
valid=false}return valid};var validateRSVPReply=function(){var valid=true;if($("#attending1").val()!=="-1")$("#attending1-error").hide();else{$("#attending1-error").show();valid=false}if($("#food1").is(":visible"))if($("#food1").val()!=="-1")$("#food1-error").hide();else{$("#food1-error").show();valid=false}var restValid=true;if($("#first2").length)restValid=validateSecondPrimary();else restValid=validateGuest();return valid&&restValid};var getRSVPForm=function(rsvpURL){$.ajax({url:rsvpURL,type:"GET",
cache:false}).done(function(data,textStatus,jqXHR){var errHeader=$("#rsvpwrap h3");if(errHeader.length)errHeader.remove();$("#rsvpwrap form").replaceWith(data);$(".error").hide()}).fail(function(jqXHR,textStatus,errorThrown){var errHeader=$("#rsvpwrap h3");if(errHeader.length)errHeader.remove();$("#rsvpwrap form").replaceWith(jqXHR.responseText);$(".error").hide()})};$(".error").hide();$("#rsvpwrap").on("change","select",function(e){var selectBox=$(e.target);var selectWidget=selectBox.attr("id");
var selectValue=selectBox.val();if(selectWidget==="attending1")if(selectValue==="1"){$("#food1Box").slideDown();$("#attending1-error").hide()}else{if(selectValue==="0"){$("#food1Box").slideUp();$("#food1").val("-1");$("#attending1-error").hide()}}else if(selectWidget==="attending2")if(selectValue==="1"){$("#food2Box").slideDown();$("#attending2-error").hide()}else{if(selectValue==="0"){$("#food2Box").slideUp();$("#food2").val("-1");$("#attending2-error").hide()}}else if(selectWidget==="food1"){if(selectValue!==
"-1")$("#food1-error").hide()}else if(selectWidget==="food2"){if(selectValue!=="-1")$("#food2-error").hide()}else if(selectWidget==="guestFood")if(selectValue!=="-1")$("#gFood-error").hide()});$("#rsvpwrap").on("focus",".text-input, select",function(){$(this).css({border:"2px solid #de675f"});$(this).css({background:"#fff"})});$("#rsvpwrap").on("blur",".text-input, select",function(){$(this).css({border:"2px solid #fff"});$(this).css({background:"transparent"})});$("#rsvpwrap").on("click","#add-guest-btn",
function(){var guestButton=$("#add-guest-btn");if(guestButton.val()==="Add Guest"){guestButton.val("Remove Guest");$("#guestForm").slideDown()}else{$("#guestForm").slideUp();$("#guestFirst").val("");$("#guestLast").val("");$("#guestFood").val("-1");$("#gFood-error").hide();$("#gLast-error").hide();$("#gFirst-error").hide();guestButton.val("Add Guest")}});$("#rsvpwrap").on("submit","#start-rsvp",function(e){e.preventDefault();var validForm=validateRSVPLookup();if(!validForm)return;$("#start-rsvp-btn").prop("disabled",
true);var form=$(this);var postData=form.serialize().toLowerCase();$.ajax({url:form.attr("action"),type:form.attr("method"),cache:false,data:postData}).done(function(data,textStatus,jqXHR){var rsvpFormURL=jqXHR.getResponseHeader("Location");getRSVPForm(rsvpFormURL)}).fail(function(jqXHR,textStatus,errorThrown){var errHeader=$("#rsvpwrap h3");if(errHeader.length)errHeader.remove();$("#rsvpwrap form").replaceWith(jqXHR.responseText);$(".error").hide()})});$("#rsvpwrap").on("submit","#rsvp-reply",function(e){e.preventDefault();
var validForm=validateRSVPReply();if(!validForm)return;$("#reply-submit-btn").prop("disabled",true);var form=$(this);var postData=form.serialize().toLowerCase();$.ajax({url:form.attr("action"),type:form.attr("method"),cache:false,data:postData}).done(function(data,textStatus,jqXHR){var errHeader=$("#rsvpwrap h3");if(errHeader.length)errHeader.remove();$("#rsvpwrap form").replaceWith("<h1>Thank you for taking the time to RSVP!</h1>")}).fail(function(jqXHR,textStatus,errorThrown){var errHeader=$("#rsvpwrap h3");
if(errHeader.length)errHeader.remove();$("#rsvpwrap form").replaceWith(jqXHR.responseText);$(".error").hide()})});var windowHeight=$(window).height();$(".hero").height(windowHeight);$(window).resize(function(){var windowHeight=$(window).height();$(".hero").height(windowHeight)});$("#menuToggle, .menu-close").on("click",function(){$("#menuToggle").toggleClass("active");$("body").toggleClass("body-push-toleft");$("#theMenu").toggleClass("menu-open")});new Photostack(document.getElementById("photostack"),
{callback:function(item){}});var photos=["after-the-proposal","anna-jason-wedding","apple-picking-us","audreys-party","billies-wedding","brewery","charger-game-nj","chophouse","coti-1","cp-1","cp-2","cp-3","cp-4","cp-5","cp-6","cruise-dinner","dinner1","du-27th-1","du-27th-2","du-grad","engage-1","engage-2","engage-3","engage-4","engage-5","engage-6","erica-eli-wedding","first-date-kinda-2","first-date-kinda","flat-iron","hall-of-fame","magic-mountain","maine-1","maine-2","mi-tailgate","navy-pier",
"new-years-2008","no-clue-1","nyc-skating","paris-1","paris-2","proposal","rushmore","sd-1","seattle","shake-shack","sig-kappa-us","snowboarding","the-beginning","tx-fishing","vegas1","vegas2","yankee-game","du-30th","magic-mountain-2"];var selectedPhotos=[];while(selectedPhotos.length!=12){var random=Math.floor(Math.random()*photos.length);if(selectedPhotos.indexOf(photos[random])===-1)selectedPhotos.push(photos[random])}$("#photostack a").each(function(index){$(this).attr("href","/static/images/placeholders/600x500/"+
selectedPhotos[index]+".jpg")});$("#photostack img").each(function(index){$(this).attr("src","/static/images/placeholders/240x240/"+selectedPhotos[index]+".jpg");$(this).attr("alt",selectedPhotos[index])});$(".photostack").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(item){return item.el.attr("title")}}});
jQuery.supersized({slide_interval:3E3,transition:1,transition_speed:700,slide_links:"blank",slides:[{image:"/static/images/placeholders/slider-0.jpg"},{image:"/static/images/placeholders/slider-1.jpg"},{image:"/static/images/placeholders/slider-2.jpg"},{image:"/static/images/placeholders/slider-3.jpg"},{image:"/static/images/placeholders/slider-4.jpg"},{image:"/static/images/placeholders/slider-5.jpg"}]})})})(jQuery);